اتصال موبایل به vm های esxi 

روش اول : اتصال فیزیکی موبایل به سرور با استفاده از پورت usb 3.1

با اتصال usb به سرور ، ارور رو به رو در وی ام لینوکسی دیده میشود.: device descriptor read/64, error -71



روش دوم : اتصال wireless گوشی ها به vm های درون سرور

مرحله ۱: آماده‌سازی گوشی (فقط یک بار)

۱. در تنظیمات گوشی به قسمت About Phone (درباره تلفن) بروید. ۲. روی Build Number (شماره ساخت) ۷ بار پشت سر هم ضربه بزنید تا پیام "You are now a developer" ظاهر شود. ۳. به منوی تنظیمات برگردید و وارد Developer Options (گزینه‌های تهیه‌کننده) شوید. ۴. گزینه USB Debugging (عیب‌یابی USB) را روشن کنید. ۵. نکته مهم: گوشی را به وای‌فای (همان شبکه‌ای که سرور HP به آن وصل است) متصل کنید و IP گوشی را یادداشت کنید (معمولاً در تنظیمات وای‌فای نوشته شده، مثلاً 192.168.1.50).



مرحله ۲: آماده‌سازی کامپیوتر واسط (لپ‌تاپ شما)

شما نیاز به ابزار کوچک ADB دارید. لازم نیست کل اندروید استودیو را نصب کنید.

۱. پکیج SDK Platform-Tools را از سایت گوگل دانلود کنید (حجمش کم است).

اگر ویندوز دارید: لینک دانلود گوگل ۲. فایل ZIP دانلود شده را اکسترکت کنید (مثلاً در درایو C پوشه‌ای به نام adb-tools). ۳. وارد پوشه شوید (جایی که فایل adb.exe را می‌بینید). ۴. در فضای خالی پوشه، کلید Shift را نگه دارید و کلیک راست کنید، سپس گزینه Open PowerShell window here یا Open Command window here را بزنید.



مرحله ۳: اجرای دستور (تغییر حالت گوشی)

۱. گوشی را با کابل USB سالم به همین کامپیوتر وصل کنید. ۲. قفل گوشی را باز کنید. احتمالا پیامی روی گوشی می‌آید با عنوان Allow USB Debugging?. تیک Always allow را بزنید و OK کنید.

۳. در پنجره مشکی (CMD) که باز کردید، دستور زیر را تایپ کنید تا مطمئن شوید گوشی شناسایی شده: adb devices (باید یک کد عجیب به همراه کلمه device نشان دهد. اگر نوشت unauthorized، یعنی پیام روی گوشی را تایید نکرده‌اید).

۴. حالا برای اختصاص دادن پورت به گوشی دستور روبه رو را وارد کنید: adb tcpip 5555

۵. اگر پیغام restarting in TCP mode port: 5555 را دیدید، یعنی موفق شدید. ۶. حالا کابل را بکشید. گوشی الان در حالت بی‌سیم گوش‌به‌زنگ است.


مرحله ۴: اتصال نهایی در VM لینوکسی (روی سرور HP)

حالا بروید سراغ VM لینوکسی خودتان روی ESXi. ترمینال لینوکس را باز کنید و دستور زیر را بزنید (به جای IP، آی‌پی گوشی را که در مرحله ۱ یادداشت کردید بنویسید):

adb connect 192.168.1.50:5555

اگر پیام connected to ... را دیدید، تبریک می‌گویم! الان گوشی به VM متصل است و می‌توانید تست‌هایتان را اجرا کنید.

دو نکته حیاتی برای پروژه شما:
اگر گوشی ریستارت شود: حالت TCP/IP می‌پرد و باید دوباره یک لحظه با کابل وصلش کنید و دستور مرحله ۳ را بزنید. (برای Device Farm معمولاً گوشی‌ها را همیشه روشن نگه می‌دارند).

باتری گوشی: چون کابل جدا شده، گوشی شارژ نمی‌شود. در پروژه‌های بزرگ، گوشی را به یک شارژر دیواری معمولی وصل می‌کنند که فقط برق بدهد (چون دیتا از طریق وای‌فای منتقل می‌شود).
